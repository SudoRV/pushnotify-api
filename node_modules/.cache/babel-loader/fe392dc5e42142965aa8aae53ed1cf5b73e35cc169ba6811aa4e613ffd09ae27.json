{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import Navbar from\"../components/Navbar\";import Sidebar from\"../components/Sidebar\";import\"../styles/Profile.scss\";import PasswordResetPopup from\"../components/PasswordResetPopup\";// Import popup\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Profile=()=>{const[userData,setUserData]=useState(null);const[transactionData,setTransactionData]=useState(null);const[isSidebarOpen,setSidebarOpen]=useState(false);const[showPopup,setShowPopup]=useState(false);// State for popup visibility\nuseEffect(()=>{try{const storedUser=JSON.parse(localStorage.getItem(\"creds\"));const storedTransaction=JSON.parse(localStorage.getItem(\"t_data\"));if(storedUser)setUserData(storedUser);if(storedTransaction)setTransactionData(storedTransaction);}catch(error){console.error(\"Error parsing local storage data:\",error);}},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{toggleSidebar:()=>setSidebarOpen(!isSidebarOpen)}),/*#__PURE__*/_jsx(Sidebar,{isOpen:isSidebarOpen,toggleSidebar:()=>setSidebarOpen(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDC64 User Profile\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDD39 Personal Information\"}),userData?/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",userData.username||\"N/A\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",userData.email||\"N/A\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"User ID:\"}),\" \",userData[\"user-id\"]||\"N/A\"]})]}):/*#__PURE__*/_jsxs(\"p\",{className:\"error\",children:[\"No user data found. \",/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:\"Please login\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCB0 Transaction Summary\"}),transactionData?/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Transactions:\"}),\" \",transactionData[\"amount\"]/100||0]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Last Transaction:\"}),\" \\u20B9\",transactionData.amount/100||\"N/A\",\" on \",new Date(transactionData[\"timestamp\"]).toLocaleString()]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Transaction ID:\"}),\" \",transactionData[\"transaction-id\"]||\"N/A\"]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:\"No transactions found.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u2699\\uFE0F Account Settings\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Manage your account security.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"settings-btn reset\",onClick:()=>setShowPopup(true),children:\"Reset Password\"}),/*#__PURE__*/_jsx(\"button\",{className:\"settings-btn logout\",onClick:async()=>{await alert(\"Logging You Out\");localStorage.clear();window.location.href=\"/login\";},children:\"Logout\"})]})]}),showPopup&&/*#__PURE__*/_jsx(PasswordResetPopup,{closePopup:()=>setShowPopup(false)})]});};export default Profile;","map":{"version":3,"names":["React","useState","useEffect","Navbar","Sidebar","PasswordResetPopup","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Profile","userData","setUserData","transactionData","setTransactionData","isSidebarOpen","setSidebarOpen","showPopup","setShowPopup","storedUser","JSON","parse","localStorage","getItem","storedTransaction","error","console","children","toggleSidebar","isOpen","className","username","email","href","amount","Date","toLocaleString","onClick","alert","clear","window","location","closePopup"],"sources":["/data/data/com.termux/files/home/jWTFcm/clients/pushnotify-api/src/pages/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Navbar from \"../components/Navbar\";\nimport Sidebar from \"../components/Sidebar\";\nimport \"../styles/Profile.scss\";\nimport PasswordResetPopup from \"../components/PasswordResetPopup\";  // Import popup\n\nconst Profile = () => {\n  const [userData, setUserData] = useState(null);\n  const [transactionData, setTransactionData] = useState(null);\n  const [isSidebarOpen, setSidebarOpen] = useState(false);\n  const [showPopup, setShowPopup] = useState(false); // State for popup visibility\n\n  useEffect(() => {\n    try {\n      const storedUser = JSON.parse(localStorage.getItem(\"creds\"));\n      const storedTransaction = JSON.parse(localStorage.getItem(\"t_data\"));\n\n      if (storedUser) setUserData(storedUser);\n      if (storedTransaction) setTransactionData(storedTransaction);\n    } catch (error) {\n      console.error(\"Error parsing local storage data:\", error);\n    }\n  }, []);\n\n  return (\n    <>\n      <Navbar toggleSidebar={() => setSidebarOpen(!isSidebarOpen)} />\n      <Sidebar isOpen={isSidebarOpen} toggleSidebar={() => setSidebarOpen(false)} />\n\n      <div className=\"profile-container\">\n        <h2>üë§ User Profile</h2>\n\n        {/* User Details */}\n        <div className=\"profile-card\">\n          <h3>üîπ Personal Information</h3>\n          {userData ? (\n            <ul>\n              <li><strong>Name:</strong> {userData.username || \"N/A\"}</li>\n              <li><strong>Email:</strong> {userData.email || \"N/A\"}</li>\n              <li><strong>User ID:</strong> {userData[\"user-id\"] || \"N/A\"}</li>\n            </ul>\n          ) : (\n            <p className=\"error\">No user data found. <a href=\"/login\">Please login</a></p>\n          )}\n        </div>\n\n        {/* Transaction Details */}\n        <div className=\"profile-card\">\n          <h3>üí∞ Transaction Summary</h3>\n          {transactionData ? (\n            <ul>\n              <li><strong>Total Transactions:</strong> {transactionData[\"amount\"] / 100 || 0}</li>\n              <li><strong>Last Transaction:</strong> ‚Çπ{transactionData.amount / 100 || \"N/A\"} on {new Date(transactionData[\"timestamp\"]).toLocaleString()}</li>\n              <li><strong>Transaction ID:</strong> {transactionData[\"transaction-id\"] || \"N/A\"}</li>\n            </ul>\n          ) : (\n            <p className=\"error\">No transactions found.</p>\n          )}\n        </div>\n\n        {/* Additional Features */}\n        <div className=\"profile-card\">\n          <h3>‚öôÔ∏è Account Settings</h3>\n          <p>Manage your account security.</p>\n          <button className=\"settings-btn reset\" onClick={() => setShowPopup(true)}>\n            Reset Password\n          </button>\n          <button \n            className=\"settings-btn logout\" \n            onClick={async () => {\n              await alert(\"Logging You Out\");\n              localStorage.clear();\n              window.location.href = \"/login\";\n            }}\n          >\n            Logout\n          </button>\n        </div>\n      </div>\n\n      {/* Password Reset Popup */}\n      {showPopup && <PasswordResetPopup closePopup={() => setShowPopup(false)} />}\n    </>\n  );\n};\n\nexport default Profile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}